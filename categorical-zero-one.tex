\documentclass[11pt]{article}
\usepackage{eigilscmds}
\usepackage{tikzit}
\usepackage{geometry}
\usepackage{enumerate}
\input{comonoids.tikzdefs}
\input{comonoids.tikzstyles}

% draft packages
\usepackage{todonotes}
\usepackage{showkeys}

\author{Tobias Fritz and Eigil Fjeldgren Rischel}
\title{The zero--one laws of Kolmogorov and Hewitt--Savage in categorical probability}
\date{\today}

\renewcommand{\sf}{\mathsf}
\DeclareMathOperator{\del}{del}
\begin{document}
\maketitle

\begin{abstract}
	We state and prove the zero--one laws of Kolmogorov and Hewitt--Savage within the setting of \emph{Markov categories}, a category-theoretic approach to the foundations of probability and statistics. This gives general versions of these results which can be instantiated not only in measure-theoretic probability, where they specialize to the standard ones in the setting of standard Borel spaces, but also in other contexts. For example, applying them to the Kleisli category of the hyperspace monad on topological spaces gives criteria for when maps out of an infinite product of topological spaces into a Hausdorff space are constant.
\end{abstract}

\tableofcontents

\section{Introduction}

\emph{Markov categories} are an approach to the foundations of probability and statistics based on category theory, proposed first by Golubtsov~\cite{golubtsov}, rediscovered recently independently by Cho and Jacobs~\cite{cho_jacobs}, and developed extensively by the first author in \cite{markov_cats}. The basic observation is that Markov kernels can be composed sequentially and in parallel, making them into a symmetric monoidal category $\Stoch$. One can then find axioms which make a symmetric monoidal category behave similarly to the actual category of Markov kernels, and then state and prove results from probability and statistics in this general abstract context.

This represents a \emph{synthetic} approach to probability, in contrast with the usual measure-theoretic approach (which can be called \emph{analytic}). Instead of defining \emph{what} the words probability, distribution, random variable, etc, \emph{mean}, we instead state by which operations these objects can be combined and related to each other, and which properties they are supposed to satisfy.
We can draw an analogy to the Euclidean approach to geometry: here, points and lines are described only in terms of their relationships with one another; while in the analytic approach often attributed to Descartes, where geometric objects are defined concretely in terms of more primitive notions like sets and real numbers.

In this paper, we give a treatment of the zero--one laws of Kolmogorov and of Hewitt--Savage in the setting of Markov categories. This adds further support to the hypothesis that Markov categories are an adequate setting for the foundations of probability and statistics, adding to the existing treatments of Bayesian updating, almost sure equality, conditional independence, and theorems on sufficient statistics~\cite{cho_jacobs,markov_cats}.

Very roughly, the Kolmogorov zero--one law states that, given an infinite collection of independent random variables and an event which is in the $\sigma$-algebra generated by the variables but independent of any finite subset of these variables, the event has probability zero or one.
This theorem goes back to Kolmogorov's foundational monograph \cite{kolmogorovgerm}, although the statement appearing there is significantly different from the modern form.
For a more recent treatment of this theorem, see e.g. \cite[Theorem~2.37]{klenke}


The Hewitt--Savage zero--one law, due to Hewitt and Savage in \cite[Theorem~11.3]{hewitt_savage}, is similar. Here, the variables are assumed to be identically distributed in addition to being independent, and the event is assumed to be invariant under finite permutations of the variables. Again, under these assumptions, the event has probability zero or one.

To formulate these statements in the general context of Markov categories, we need an abstract generalization of the concept of joint distribution of infinitely many random variables.
To this end, we introduce a notion of \emph{infinite tensor product}, first for semicartesian monoidal categories (\Cref{infprod_semicartesian}) and then for Markov categories (\Cref{infprod_markov}). A morphism to such an infinite tensor product is an abstract version of a probability measure on an infinite product of measurable spaces. Based on this definition, we then prove abstract versions of the zero--one laws, \Cref{thm:kolmog} and \Cref{thm:hewsav}.

Finally in \Cref{examples}, we apply our results to the category of measurable spaces and Markov kernels $\Stoch$. In order to guarantee that countably infinite tensor products exist, we restrict to the full subcategory of standard Borel spaces. We thereby rederive the standard zero--one laws for random variables in standard Borel spaces from our abstract theorems. We also instantiate our theorems in the Kleisli category of the lower Vietoris monad, which gives criteria for when a continuous map out of infinite product of topological spaces into a Hausdorff space is constant (\Cref{vietoris_kolmogorov} and \Cref{vietoris_hewitt_savage}).

\paragraph*{Notation.} 

Throughout, $\cC$ is a symmetric monoidal category. To simplify notation, we generally omit mention of the structure isomorphisms by assuming that $\cC$ is strict without loss of generality. We make frequent use of string diagram notation, and in doing so we omit object labels whenever these are obvious from the context.

In \Cref{infprod_semicartesian}, $\cC$ denotes more concretely a semicartesian strict symmetric monoidal category. In \Cref{infprod_markov} and after, $\cC$ denotes a Markov category in the sense of \Cref{markov_cat}. $J$ is a set used for indexing products of objects; the definitions and results of this paper are nontrivial only when $J$ is infinite. $F$ denotes either an arbitrary finite set, or more concretely a finite subset of $J$.

\paragraph*{Acknowledgments.} We thank Paolo Perrone for discussions and \Cref{poset_case}.

\section{Background on Markov categories}\label{background}

A symmetric monoidal category $\cC$ is \emph{semicartesian} if the monoidal unit $I \in \cC$ is terminal. Equivalently~\cite[Theorem~3.5]{GLS}, it is a symmetric monoidal category equipped with morphisms
\begin{equation}
	\label{projections}
	X \otimes Y \longrightarrow X, \qquad X \otimes Y \longrightarrow Y,
\end{equation}
which are natural in $X$ and $Y$ and coincide with the monoidal structure isomorphisms whenever $X = I$ or $Y = I$. Here are the main examples that we will be considering.

\begin{example}
	\label{finstoch}
	$\FinStoch$ is the category of finite sets with \emph{stochastic matrices}, which means that a morphism $f : X \to Y$ is a matrix $(f_{xy})_{x \in X,y \in Y}$ of nonnegative real numbers such that $\sum_y f_{xy} = 1$ for every $x$. Stochastic matrices compose by matrix multiplication, which in this context is also known as the \emph{Chapman--Kolmogorov equation}. We consider $\FinStoch$ as a symmetric monoidal category with respect to the cartesian product of sets on objects and the Kronecker product of stochastic matrices on morphisms; the monoidal structure isomorphisms are the obvious ones coming from the full embedding $\FinSet \subseteq \FinStoch$.
\end{example}

\begin{example}
	\label{cring}
	Let $\CRing_+$ be the category of commutative rings with maps which are merely additive and unit-preserving, considered as a symmetric monoidal category in the obvious way with respect to the tensor product of rings. Then since $\CRing_+$ has the monoidal unit $\Z$ as its initial object, we can conclude that $\CRing_+\op$ is semicartesian monoidal.
\end{example}

\begin{example}
	\label{stoch}
	$\Stoch$ is the category of measurable spaces $(X,\Sigma_X)$ as objects and Markov kernels as morphisms. We sketch the definition here and refer to~\cite[Section~4]{markov_cats} and references therein for the details. A \emph{Markov kernel} $(X,\Sigma_X) \to (Y,\Sigma_Y)$ is a map
	\[
		f \: : \: \Sigma_Y \times X \longrightarrow [0,1], \quad (S,x) \longmapsto f(S|x)
	\]
	assigning to every $x \in X$ a probability measure $f(-|x) : \Sigma_Y \to [0,1]$ in such a way that for every $S \in \Sigma_Y$, the function $x \mapsto f(S|x)$ is measurable. Intuitively, $f$ assigns to every $x \in X$ a random element of $Y$. Composition is again defined by a variant of the Chapman--Kolmogorov equation, and the symmetric monoidal structure is defined in terms of the usual product of measurable spaces. The monoidal unit $I$ is given by any one-element set with its unique $\sigma$-algebra. As a special case, morphisms $I \to (X,\Sigma_X)$ can be identified with probability measures $\Sigma_X \to [0,1]$.

	There is a well-known subclass of particularly well-behaved measurable spaces, the \emph{standard Borel spaces}, or equivalently Polish spaces equipped with their Borel $\sigma$-algebras. We write $\BorelStoch \subseteq \Stoch$ for the full subcategory of standard Borel spaces with Markov kernels. Since finite products of standard Borel spaces are again standard Borel, $\BorelStoch$ is again semicartesian symmetric monoidal.
\end{example}

Returning to the general theory, in terms of string diagrams the unique morphism $\discard{X} : X \to I$ for an object $X \in \cC$ is denoted by
\[
	\tikzfig{terminal}
\]
The projection maps $\id \otimes \discard{Y} : X \otimes Y \to X$ and $\discard{Y} \otimes \id : X \otimes Y \to Y$, which are the ones from~\eqref{projections}, are correspondingly written as
\[
	\tikzfig{marginals}
\]

Our goal is to use semicartesian monoidal categories in order to develop aspects of probability theory in categorical terms, in such a way that instantiating this theory in $\Stoch$ or $\BorelStoch$ recovers the standard theory. As it turns out, doing so requires a bit more structure, in a form which has been axiomatized first by Cho and Jacobs~\cite{cho_jacobs} as \emph{affine CD-categories}, although very similar definitions occur in earlier work of Golubtsov~\cite{golubtsov}. We here follow the terminology of our own~\cite[Definition~2.1]{markov_cats}. 

\begin{definition}
	A \emph{Markov category} $\cC$ is a semicartesian symmetric monoidal category where every object $X \in \cC$ is equipped with a distinguished morphism
	\begin{equation}
		\label{comultiplication}
		\tikzfig{comultiplication}
	\end{equation}
	which, together with $\discard{X} : X \to I$, makes $X$ into a commutative comonoid, and such that
	\begin{equation}
		\label{multiplicativity}
		\tikzfig{multiplicativity}
	\end{equation}
	for all $X, Y \in \cC$.
	\label{markov_cat}
\end{definition}

There is a strictification result~\cite[Theorem~10.16]{markov_cats} which guarantees that $\cC$ can be assumed to be strict monoidal, as we do throughout.

We think of the comultiplication~\Cref{comultiplication} as a copying operation. The coassociativity and counitality conditions guarantee that copying with any number of output wires is well-defined, and we draw it likewise as a single black dot with any number of outgoing wires, like this:
\[
	\tikzfig{triple_copy}
\]

\Cref{finstoch,cring,stoch} are all Markov categories in a canonical way. In $\FinStoch$ and $\Stoch$, the comultiplication morphisms are given indeed by copying, i.e.~by those stochastic matrices or Markov kernels which map an $x \in X$ to the Dirac delta measure at $(x,x) \in X \times X$. We refer to~\cite[Example~2.5 and Section~4]{markov_cats} for the technical details. In $\CRing_+\op$, we define the comultiplication of an object $R \in \CRing_+\op$ to be represented by the multiplication map $R \otimes R \to R$. The multiplicativity condition~\eqref{multiplicativity} then amounts to the fact that the multiplication on a tensor product of commutative rings $R \otimes S$ is given by the defining equation
\[
	(r_1 \otimes s_1) (r_2 \otimes s_2) \, = \, r_1 r_2 \otimes s_1 s_2.
\]

\begin{definition}[{\cite[Definition~10.1]{markov_cats}}]
	Let $\cC$ be a Markov category. A morphism $f : X \to Y$ in $\cC$ is \emph{deterministic} if it is a comonoid homomorphism,
	\[
		\tikzfig{multiplication_natural}	
	\]
\end{definition}

As per~\cite[Remark~10.12]{markov_cats}, the deterministic morphisms form a symmetric monoidal subcategory $\cC_\detc \subseteq \cC$ which contains all structure morphisms of $\cC$, including the comultiplications themselves. The fact that all morphisms are comonoid homomorphisms implies that $\cC_\detc$ is actually cartesian monoidal.

In $\FinStoch$, the deterministic morphisms $X \to Y$ are exactly the $\{0,1\}$-valued stochastic matrices. Since these can be identified with honest functions $X \to Y$, we conclude that $\FinStoch_\detc$ is equivalent to $\FinSet$. In $\Stoch$, the deterministic morphisms $f : X \to Y$ are exactly those Markov kernels for which $f(S|x) \in \{0,1\}$ for every $S \in \Sigma_Y$ and $x \in X$. In other words, as the term suggests, the deterministic morphisms are those which do not involve any randomness; in $\BorelStoch$, the deterministic morphisms can be identified with the measurable functions. In $\CRing_+\op$, the deterministic morphisms $R \to S$ are precisely those morphisms which are represented by additive unital maps $S \to R$ which are in addition multiplicative, i.e.~the ring homomorphisms. Thus the subcategory of deterministic morphisms is exactly the opposite of the usual category of commutative rings.

We state some more definitions that we will be using later on.

\begin{definition}[{\cite[Definition~11.30]{markov_cats}}]
	A Markov category $\cC$ is \emph{causal} if whenever
	\[
		\tikzfig{causal1}
	\]
	holds for morphisms as indicated, then also
	\[
		\tikzfig{causal2}
	\]
	\label{causal_defn}
\end{definition}

It is known that $\Stoch$ is causal~\cite[Example~11.34]{markov_cats}, and therefore so are the subcategories $\BorelStoch$ and $\FinStoch$. We do not know whether $\CRing_+\op$ is causal, although we suspect that~\cite[Example~11.31]{markov_cats} can be modified to show that it is not.

The following definition goes back to Cho and Jacobs~\cite[Definition~5.1]{cho_jacobs}. A more detailed investigation of its properties can be found in~\cite[Section~13]{markov_cats}.

\begin{definition}
	\label{defnasequal}
	Given morphisms $p : A \to X$ and $f,g : X \to Y$ in a Markov category, we say that $f$ and $g$ are \emph{$p$-a.s.~equal} if
	\[
		\tikzfig{asequal}
	\]
	and we also write this more concisely as $f =_{p\as} g$.
\end{definition}

We finally introduce a straightforward generalization of~\cite[Defnition~12.12]{markov_cats} from binary conditional independence to $n$-ary conditional independence.

\begin{definition}
	Given a morphism $p : A \to X_1 \otimes \ldots \otimes X_n$ in a Markov category, we say that $p$ \emph{displays the conditional independence} $X_1 \perp \ldots \perp X_n \mid\mid A$ if the equation
	\[
		\tikzfig{cond_ind}
	\]
	holds.
\end{definition}

Conditional independence does not depend on the order of the tensor factors: if $p$ displays the conditional independence $X_1 \perp \ldots \perp X_n \mid\mid A$, then composing $p$ with any permutation $\sigma$ of the tensor factors $X_1,\ldots,X_n$ gives a morphism $A \to X_{\sigma(1)} \otimes \ldots \otimes X_{\sigma(n)}$ which displays the conditional independence $X_{\sigma(1)} \perp \ldots \perp X_{\sigma(n)} \mid\mid A$. Therefore if $\bigotimes_{j \in F} X_j$ is a finite product without any particular order on the factors\footnote{See e.g.~\cite[Proposition~II.1.5]{DMOS} for how to make sense of tensor products in symmetric monoidal categories without a prescribed order of the factors.}, then for $p : A \to \bigotimes_{j \in F} X_j$ there is no ambiguity about whether $p$ displays conditional independence or not, and we also write $\perp_{j \in F} X_j \mid\mid A$ in case that it does.

\section{Infinite tensor products in semicartesian symmetric monoidal categories}
\label{infprod_semicartesian}

Zero--one laws involve infinitely many random variables. In the setting of Markov categories, this means that we need to consider morphisms whose codomain is an ``infinite tensor product'' in a suitable sense. In this section, we start by considering infinite tensor products in semicartesian symmetric monoidal categories.

Suppose that $(X_i)_{i \in J}$ is any family of objects, where the indexing set $J$ is typically infinite. For any finite subset $F \subseteq J$, we also write $X_F := \bigotimes_{i \in F} X_i$ for simplicity of notation. In the spirit of Kolmogorov's extension theorem, we believe that a good definition of joint distribution of infinitely many random variables will be such that such a joint distribution is uniquely determined by the family of its finite marginals. This motivates our general definition of the infinite tensor product, which we now introduce. If $F \subseteq F' \subseteq J$ are two finite subsets, then the fact that $\cC$ is semicartesian monoidal gives us \emph{marginalization morphisms}
\[
	\pi_{F',F} \: : \: X_{F'} \longrightarrow X_F.
\]
Via these maps, the finite tensor products $(X_F)_{F \subseteq J}$ make up a cofiltered diagram in the form of a functor from the poset of finite subsets of $J$, ordered by reverse inclusion, to $\cC$.

\begin{definition}
	\label{semicartesian_infproduct}
	Let $(X_i)_{i \in J}$ be a family of objects in $\cC$. An \emph{infinite tensor product}
	\[
		X_J \: := \: \bigotimes_{j \in J} X_j
	\]
	is the limit of the diagram $F \mapsto X_F$, indexed by the poset of finite subsets $F \subseteq J$ ordered by reverse inclusion, if this limit exists and is preserved by the functor $- \otimes Y$ for every object $Y \in \cC$.
\end{definition}

We will refer to the structure maps $\pi_F : X_J \to X_F$ as \emph{finite marginalizations}. The extra preservation condition will be motivated in \Cref{preserve}.

\begin{remark}
	If $J$ is finite, then the infinite tensor product exists and coincides with the tensor product $X_J = \bigotimes_{i \in J} X_i$ specified by the monoidal structure. In a general Markov category, the relevant cofiltered limit need not exist for infinite $J$, in which case the infinite tensor product does not exist either (as in \Cref{infprods_finstoch}).
\end{remark}

\begin{remark}
	\label{preserve}
	It is natural to require different infinite tensor products to interact well with another. If $X_J$ is an infinite tensor product of a family $(X_i)_{i \in J}$ and we are given an additional object $X_\ast$ for $\ast \not \in J$, then one will want the canonical comparison morphism
	\begin{equation}
		\label{comparison}
		X_J \otimes X_\ast \longrightarrow X_{J \,\sqcup\, \{\ast\}}
	\end{equation}
	to be an isomorphism, where $X_{J \,\sqcup\, \{\ast\}}$ is the infinite tensor product of the original family with $X_\ast$ thrown in. We now show that this is indeed the case thanks to the preservation condition in \Cref{semicartesian_infproduct}, even if $X_{J \,\sqcup\, \{\ast\}}$ does not exist a priori.
	
	To do so, we exhibit $X_J \otimes X_\ast$ as the relevant cofiltered limit, which equips it with the defining universal property of $X_{J \,\sqcup\, \{\ast\}}$, as follows. The object $X_J \otimes X_\ast$ can be equipped with finite marginalization morphisms with respect to $F \subseteq J \sqcup \{\ast\}$ given by
	\[
		\pi_{F \setminus \{\ast\}} \otimes \id \: : \: X_J \otimes X_\ast \longrightarrow X_{F \setminus \{\ast\}} \otimes X_\ast
	\]
	for $\ast \in F$, and just
	\[
		\pi_F \otimes \discard{X_\ast} : X_J \otimes X_\ast \longrightarrow X_F 
	\]
	in case $\ast \not \in F$. It is straightforward to check that these morphisms indeed make $X_J \otimes X_\ast$ carry the universal property of the infinite tensor product $X_{J \sqcup \{\ast\}}$ if and only if the functor $- \otimes X_\ast$ preserves the defining cofiltered limit of the infinite tensor product $X_J$. It is also easy to see that this new cofiltered limit is again preserved by every functor $- \otimes Y$, based on the assumption that the defining cofiltered limit of the original infinite tensor product is preserved by $- \otimes (X_\ast \otimes Y)$ as well.

	In summary, the preservation condition in this definition amounts to the requirement that the canonical comparison morphism~\eqref{comparison} must be an isomorphism, as one would expect intuitively from a good notion of infinite tensor product. 
\end{remark}

\begin{example}
	\label{infprods_cring}
	The dual definition of infinite tensor products of algebraic structures as \emph{filtered colimits} of finite tensor products is well-known in the literature, e.g.~in the case of C*-algebras~\cite[p.~315]{blackadar}, although we do not know whether the preservation condition has been made explicit before. For example in the case where our category is $\CRing_+\op$, we recover the usual folklore definition of an infinite tensor product of rings $\bigotimes_{i \in J} R_i$ in terms of formal sums of elementary tensors, where an elementary tensor is a family of elements $(r_i)_{i \in J}$ such that all but finitely many are equal to the respective unit. The necessary preservation condition is easily seen to hold. Note that we do not yet consider the multiplication on $\bigotimes_{i \in J} R_i$, since \Cref{semicartesian_infproduct} is not yet concerned with the comonoid structures on the objects. We will get to this in the next section.
	
	Intuitively, our definition matches up with the known algebraic ones under the categorical duality of algebra and geometry, where our \Cref{semicartesian_infproduct} is on the geometrical side of the duality.
\end{example}

\begin{remark}
	In those semicartesian monoidal categories $\cC$ that are of interest to us, morphisms $I \to X$ play the role of \emph{probability measures} on $X$. Thus applying the defining universal property of an infinite tensor product with respect to maps out of $I$ implements the \emph{Kolmogorov extension theorem} in $\cC$: probability measures on an infinite product $X_J$ are in bijection with consistent families of probability measures on the finite products $X_F$ for $F \subseteq J$. The spirit of \Cref{semicartesian_infproduct} is thus such that it turns the Kolmogorov extension theorem into a definition.
\end{remark}

\begin{example}

	\label{infprods_stoch}
	We now consider infinite tensor products in $\Stoch$, where we would like infinite tensor products to be given by the corresponding infinite products of measurable spaces in the usual sense. Since the Kolmogorov extension theorem does not hold for general (even merely countable) products of measurable spaces~\cite{AJ}, this is not the case without further additional assumptions on the measurable spaces involved. Thus we do not know whether $\Stoch$ has infinite tensor products, although we suspect that it does not; but even if it does, they are in general not the ones that one will care about for the purposes of probability theory.

	However, the situation improves for countable products in $\BorelStoch$, for which the Kolmogorov extension theorem indeed holds~\cite[Theorem~14.35]{klenke}. In other words, if $\left( (X_j, \Sigma_j) \right)_{j \in \bN}$ is a sequence of standard Borel spaces, then the cartesian product $X_\bN = \prod_{j \in \bN} X_j$, carrying the product $\sigma$-algebra $\Sigma_\bN$, satisfies the universal property of an infinite tensor product with respect to maps out of $I$. We now prove that this implies the universal property in general.

	Thus suppose that
	\[
		\Big( g_F : (A,\Sigma_A) \longrightarrow (X_F, \Sigma_F) \Big)_{F \subseteq J \text{ finite}}
	\]
	is a family of Markov kernels satisfying the compatibility condition $\pi_{F',F} \circ g_{F'} = g_F$ for all finite $F \subseteq F' \subseteq J$. Then for every $a \in A$, the probability measures $g_F(-|a) : \Sigma_F \to [0,1]$ are a compatible family to which the Kolmogorov extension theorem in the form of~\cite[Theorem~14.35]{klenke} applies, and we obtain a unique probability measure $g_J(-|a) : \Sigma_J \to [0,1]$ which has the original $g_F(-|a)$ as its finite marginals. It remains to be shown that for every $S \in \Sigma_J$, the map $a \mapsto g_J(S|a)$ is measurable. Since limits of pointwise convergent sequences of measurable real-valued functions are again measurable, the set of $S$ for which this measurability holds is closed under countable disjoint union, and it is clearly closed under complements. We therefore have a $\lambda$-system. Since the map is measurable by assumption whenever $S$ is a measurable cylinder set, and the cylinder sets form a $\pi$-system, the $\pi$-$\lambda$-theorem implies that $a \mapsto g_J(S|a)$ is measurable for all $S$ in the $\sigma$-algebra generated by the measurable cylinder sets, which is exactly the product $\sigma$-algebra $\Sigma_J$.

	Since the resulting comparison morphism \Cref{comparison} is an isomorphism by construction---both sides are given by the corresponding products of measurable spaces---it follows that the required preservation condition of infinite tensor products holds as well.

	In conclusion, $\BorelStoch$ indeed has countable tensor products. It is plausible that there is is another subcategory of $\Stoch$ strictly larger than $\BorelStoch$ which has all infinite tensor products; for example, one can try to construct such a subcategory by imposing compactness or perfectness conditions~\cite[\S{451}]{fremlin4}, for which there also is a version of the Kolmogorov extension theorem~\cite[Corollary~454G]{fremlin4}. However, we have so far not been able to find a suitable condition on Markov kernels which would guarantee closure under composition, due to problems with perfect measures not being stable under mixtures~\cite{ramachandran}.
\end{example}

\begin{example}
	\label{infprods_finstoch}
	Infinite tensor products never exist in $\FinStoch$, in the following sense: if the family $(X_i)_{i \in J}$ is such that no $X_i$ is empty and infinitely many of them contain at least two elements, then $\bigotimes_i X_i$ does not exist. One way to see this is to use the fact that the hom-sets of $\FinStoch$ are convex subsets of the vector space of matrices, and that composition distributes over these convex combinations, making $\FinStoch$ into a category enriched in convex sets.\footnote{See also \href{https://golem.ph.utexas.edu/category/2010/09/what_is_this_category_enriched.html}{golem.ph.utexas.edu/category/2010/09/what\_is\_this\_category\_enriched.html} for discussion of this enrichment.} Since these hom-sets are finite-dimensional, for every $Y$ and $Z$ there is $n \in \bN$ such that among every $n$ morphisms $Y \to Z$, one of them can be written as a convex combination of the others. Now suppose that the product $\bigotimes_i X_i$ existed. Then by choosing varying elements of each $X_j$, we could construct uncountably many morphisms $1 \to \bigotimes_i X_i$ whose marginalizations $1 \to X_F$ are all deterministic. Per the above, one of these hypothetical morphisms can be written as a convex combination of finitely many others. By choosing $F \subseteq J$ suitably, we can achieve that the finite marginalizations $1 \to X_F$ of the finitely many morphisms involved in this convex combination are all distinct. Since these morphisms $1 \to X_F$ are deterministic by construction, and no deterministic morphism in $\FinStoch$ can be written as a convex combination of other deterministic morphisms, we have arrived at a contradiction. Thus $\bigotimes_i X_i$ does not exist.
\end{example}

\begin{example}[Paolo Perrone, personal communication]
	\label{poset_case}
	Suppose that $\cC$ is a partially ordered set, considered as a category with $X \geq Y$ if and only if the morphism $X \to Y$ exists.\footnote{This direction of the ordering is opposite to the usual convention, but necessary for the following to work on the nose.} Then the monoidal structure makes $\cC$ into a preordered commutative monoid, which we write additively. Here, the functoriality of the monoidal structure amounts to the assumption that addition is monotone,
	\[
		X \geq Y \quad\: \Longrightarrow \quad\: X + Z \geq Y + Z.
	\]
	Furthermore, the monoidal structure is semicartesian if and only if $X \geq 0$ for every $X$. One can then apply \Cref{infprod_operadic} to show that $\cC$ has infinite tensor products if and only if $\cC$ is a \emph{finitary complete monoid} in the sense of Goldstern and Karner~\cite[Section~2.2]{karner}, and these infinite tensor products then correspond to infinite sums $\sum_{i \in J} X_i$ in the monoid.
\end{example}

We return to the general theory.

\begin{lemma}
	\label{two_infproducts}
	Let $J = J_1 \,\sqcup\, J_2$ be a disjoint union and $(X_i)_{i \in J}$ a family of objects in $\cC$. Suppose that the infinite tensor products $X_{J_1}$ and $X_{J_2}$ exist. Then the object
	\[
		X_{J_1} \otimes X_{J_2} 
	\]
	is an infinite tensor product $X_J$ with respect to the finite marginalizations morphisms given by, for every finite $F \subseteq J$,
	\[
		\begin{tikzcd}[column sep=huge]
			\rho_F \: : \: X_{J_1} \otimes X_{J_2} \ar{r}{\pi_{F\cap J_1} \,\otimes\, \pi_{F\cap J_2}} & X_{F \cap J_1} \otimes X_{F \cap J_2}.
		\end{tikzcd}
	\]
\end{lemma}
\begin{proof}
	For fixed finite $F_1 \subseteq J_1$, the morphisms
	\[
		\id \otimes \pi_{F_2} \: : \: X_{F_1} \otimes X_{J_2} \longrightarrow X_{F_1} \otimes X_{F_2}
	\]
	exhibit $X_{F_1} \otimes X_{J_2}$ as the cofiltered limit of the $X_{F_1} \otimes X_{F_2}$ by the preservation assumption. Similarly for varying $F_1$, the morphisms
	\[
		\pi_{F_1} \otimes \id \: : \: X_{J_1} \otimes X_{J_2} \longrightarrow X_{F_1} \otimes X_{J_2}
	\]
	exhibit $X_{J_1} \otimes X_{J_2}$ as the cofiltered limit of the $X_{F_1} \otimes X_{J_2}$. The claimed universal property follows since a limit of limits is a limit, and it is easy to see that the diagram shapes match up: the poset of finite subsets of $J_1 \sqcup J_2$ is the product of the posets of finite subsets of $J_1$ and $J_2$. The preservation property with respect to applying a tensoring functor $- \otimes Y$ carries along both of the above limits individually.
\end{proof}

More generally, we may consider infinite tensor products of infinite tensor products, $\bigotimes_{k \in K} \bigotimes_{j \in J_k} X_{k,j}$, where now $(J_k)_{k \in K}$ is a family of sets and $(X_{k,j})$ a doubly indexed family of objects. One may think that this doubly infinite tensor product should be isomorphic to the single-step infinite tensor product $\bigotimes_{k \in K, \: j \in J_k} X_{k,j}$. And indeed, if for every finite $F \subseteq \prod_{k \in K} J_k$ we choose any finite $G \subseteq K$ such that $(k,j) \in F$ implies $k \in G$, then we have morphisms
\begin{equation}
	\label{double_infproduct}
	\begin{tikzcd}[column sep=1cm]
		\rho_F \; : \; \bigotimes_{k \in K} \bigotimes_{j \in J_k} X_{k,j} \ar{r}{\pi_G} & \bigotimes_{k \in G} \bigotimes_{j \in J_k} X_{k,j} \ar{rr}{\bigotimes_{k \in G} \pi_{F \cap J_k}} & & \bigotimes_{k \in G, \: j \in F \cap J_k} X_{k,j}
	\end{tikzcd}
\end{equation}
where the object on the right can also be written as $\bigotimes_{(k,j) \in F} X_{k,j}$. It is straightforward to see that this $\rho_F$ does not depend on the particular choice of $G$ (up to monoidal structure isomorphisms). We now show that these $\rho_F$'s are finite marginalization morphisms which make the doubly infinite tensor product $\bigotimes_{k \in K} \bigotimes_{j \in J_k} X_{k,j}$ into the single infinite tensor product $\bigotimes_{k \in K, \: j \in J_k} X_{k,j}$.

\begin{lemma}
	\label{infprod_operadic}
	Suppose that $(J_k)_{k \in K}$ is a family of sets and $(X_{k,j})_{j \in J_k, k \in K}$ a doubly indexed family of objects. If all of the infinite tensor products $\bigotimes_{j \in J_k} X_{j,k}$ and $\bigotimes_{k \in K} \bigotimes_{j \in J_k} X_{k,j}$ exist, then the morphisms~\eqref{double_infproduct} exhibit $\bigotimes_{k \in K} \bigotimes_{j \in J_k} X_{k,j}$ as the infinite tensor product $\bigotimes_{k \in K, \: j \in J_k} X_{k,j}$.
\end{lemma}
\begin{proof}
	By repeated application of \Cref{two_infproducts}, the second half of~\Cref{double_infproduct} exhibits $\bigotimes_{k \in G} \bigotimes_{j \in J_k} X_{k,j}$ as the infinite tensor product of the $X_{k,j}$ for $k \in G$ and $j \in J_k$. The relevant universal property as well as its preservation by $- \otimes Y$ then follow from another straightforward diagram chase.
\end{proof}

\section{Infinite tensor products in Markov categories}
\label{infprod_markov}

If a Markov category $\cC$ has infinite tensor products, then one should expect a compatibility condition between these infinite tensor products and the comonoid structures on the objects. % In the following string diagrams, we draw the object associated to an infinite tensor product as a double wire.

\begin{definition}
    \label{defn_kolmogorov_ext}
    Let $\cC$ be a Markov category and $(X_i)_{i \in J}$ a family of objects. We say that an infinite tensor product $X_J = \bigotimes_{i \in J} X_i$ is a \emph{Kolmogorov product} if the finite marginalization morphisms $\pi_F : X_J \to X_F$ are deterministic.
\end{definition}

In $\BorelStoch$, the infinite tensor products constructed in \Cref{infprods_stoch} are Kolmogorov products. In $\CRing_+\op$, the infinite tensor products from \Cref{infprods_cring} are Kolmogorov products as well, provided that one equips $\bigotimes_i R_i$ with the tensor product ring structure, since this one is the only one which makes the canonical inclusions $R_j \to \bigotimes_i R_i$ into ring homomorphisms. These examples illustrate the following important point. In some Markov categories, such as $\CRing_+\op$, not all isomorphisms are deterministic, and there may even be isomorphic objects which have no deterministic isomorphism~\cite[Remark~10.9]{markov_cats}. In these categories, whether a given infinite tensor product is a Kolmogorov product or not generally depends on the specific choice of that object. In particular, there may be infinite tensor products which are not Kolmogorov products. For example in $\CRing_+\op$, we may take the tensor product of abelian groups $\bigotimes_i R_i$ and equip it with a different multiplication than the tensor product of rings one (as long as it has the same unit).

\begin{remark}
	If the Markov category $\cC$ is positive in the sense of~\cite[Definition~11.22]{markov_cats}, then a morphism $A \to B \otimes C$ is deterministic if and only if both of its marginals $A \to B$ and $A \to C$ are deterministic~\cite[Corollary~12.15]{markov_cats}. In this case, it follows that the finite marginalizations $\pi_F$ are deterministic if and only if all the single-factor marginalizations $\pi_{\{i\}} : X_J \to X_i$ are. Thus for an infinite tensor product to be a Kolmogorov product, it is then enough to verify that the $\pi_{\{i\}}$ are deterministic.
\end{remark}

Using the multiplicativity of the comonoid structure of~\eqref{multiplicativity}, we see that \Cref{two_infproducts,infprod_operadic} hold also for Kolmogorov products.

\begin{proposition}
	Every Kolmogorov product is a categorical product in the cartesian monoidal subcategory of deterministic morphisms $\cC_\detc$.
	\label{kolmprod_catdet}
\end{proposition}
\begin{proof}
	For $(X_i)_{i \in J}$ a family of objects with Kolmogorov product $X_J$ and finite marginalizations $\pi_F : X_J \to X_F$, we first show that if we have a compatible family of deterministic morphisms $g_F : A \to X_F$, then also the induced $g_J : A \to X_J$ is deterministic. Drawing the Kolmogorov product $X_J$ as a double wire, we need to prove the determinism equation
	\[
		\tikzfig{gJ_det}
	\]
	By \Cref{two_infproducts}, the codomain object $X_J \otimes X_J$ is itself an infinite tensor product, and it is therefore enough to prove that for every finite $F \subseteq J$,
	\[
		\tikzfig{gJ_det2}
	\]
	where we have assumed without loss of generality that the two finite marginalization maps are the same, which we can by replacing the corresponding finite subsets by their union. Using the determinism assumption for $\pi_F$ on the right, as well as the assumption that $g_F = \pi_F \circ g_J$ is deterministic, implies the claim.

	Now since every finite tensor product $X_F$ is a categorical product in $\cC_\detc$, we can use the fact that in every category,
    	\[
		\lim_{F \subseteq J \text{ finite}} \: \prod_{j \in F} X_j \: \cong \: \prod_{j \in J} X_j,
	\]
	and the claim follows.
\end{proof}

In particular, this proves that \Cref{defn_kolmogorov_ext} determines the comonoid structure on a Kolmogorov product uniquely: $\cop{\bigotimes_i X_i}$ has to be the equal to the corresponding diagonal in $\cC_\detc$, and \Cref{kolmprod_catdet} determines $\bigotimes_i X_i$ up to \emph{deterministic} isomorphism.

\begin{example}
    \label{setmulti}
    Let $\SetMulti$ be the category with objects ordinary sets, morphisms $f: X \to Y$ given by \emph{multivalued functions}, which are maps $f: X \to \cP(Y)\setminus \emptyset$, with composition of morphisms $f : X \to Y$ and $g : Y \to Z$ given by
    	\begin{equation}
		\label{relational_composition}
		(g\circ f)(x) := \bigcup_{y \in f(x)} g(y).
	\end{equation}
    See also \cite[Example~2.6]{markov_cats} for a treatment of the full subcategory $\FinSetMulti$ on finite sets.
    The Cartesian product of sets gives it a symmetric monoidal structure, if for $f : X_1 \to Y_1$ and $g: X_2 \to Y_2$ we set
	\[
	(f \tensor g)(x_1,x_2) := f(x_1) \times g(x_2) \:\subseteq\: Y_1 \times Y_2.
	\]
	With the obvious structure isomorphisms inherited from $\Set$, this turns $\SetMulti$ into a semicartesian symmetric monoidal category, and we can give it a Markov category structure by setting
    $\cop{X}(x) := \{(x,x)\} \subset X \times X$.
    Then the deterministic morphisms are precisely those sending each point into a singleton set, resulting in an isomorphism of categories
    $\SetMulti_\detc \cong \sf{Set}$.

    Of course, $\sf{Set}$ has all infinite products. But perhaps surprisingly, these products are not Kolmogorov products, or even infinite tensor products in $\sf{SetMulti}$.
    \todo[inline]{T: I think we shouldn't use our $X_J$ notation in the following example, precisely because we don't have infinite tensor products}
    To see this, consider for example the family $(X_n)_{n\in\bN}$ with $X_n = \{0,1\}$ for all $n$. 
    A map $* \to \prod_{n\in \bN} \{0,1\}$ is just a nonempty subset of this infinite product.
    Given such a subset $U$, the finite marginals $* \to \prod_{n \in F} \{0,1\}$ for $F \subset \bN$ are the images of $U$ under the projection map.
    But these images do not determine $U$. For instance, consider the subset $U$ of those sequences containing at least one $1$.
    Its image in every $\prod_{n \in F} \{0,1\}$ is the whole set, since any finite sequence of $0$s and $1$s can be extended to one containing a $1$, but $U$ itself is a proper subset. It is clear that this example is quite generic and works for any infinite family of nonempty sets, infinitely many of which contain at least two elements, as in \Cref{infprods_finstoch}.

\end{example}

The concept of Kolmogorov product describes a notion of infinite collection of random variables whose joint distribution is encoded in its finite marginals. It is natural to postulate the same for when such an infinite collection is considered to be independent.

\begin{definition}
	Let $X_J = \bigotimes_{i \in J} X_i$ be a Kolmogorov product in a Markov category. We say that a morphism $p : A \to X_J$ \emph{displays the conditional independence} $\perp_{i \in J}  X_i \mid\mid A$ if each finite marginalization $p_F : A \to X_F$ displays the conditional independence $\perp_{i \in F} X_i \mid\mid A$.
\end{definition}

\section{The zero--one laws}

Throughout this section, $(X_i)_{i \in J}$ is a family of objects in a Markov category $\cC$ with Kolmogorov product $X_J$ and finite marginalizations $\pi_F : X_J \to X_F$.

\begin{lemma}[The infinite independence lemma]
	Suppose $p: A \to X_J$ displays the conditional independence $\perp_i X_i \mid\mid A$.
	Then for every $i \in J$, it also displays the independence $X_i \perp X_{J \setminus \{i\}} \mid\mid A$.
\end{lemma}
\begin{proof}
	This is nontrivial because the assumption by definition only involves conditional independence of the finite marginalizations. What we need to prove is that
	\[
		\tikzfig{infind_lemma_goal}
	\]
	As the codomain is exactly the Kolmogorov product $X_J$, it is enough to prove this equation upon composing the second output with the finite marginalizations $\pi_F : X_{J\setminus\{i\}} \to X_F$. But this is a consequence of the assumption.
\end{proof}

\begin{lemma}[The determinism lemma]
	\label{determinismlemma}
	Suppose that we have $p: A \to X$ and deterministic $s : X \to T$. If the joint
	\begin{equation}
		\label{determinismlemma_joint}
		\tikzfig{determinismlemma_joint}	
	\end{equation}
	displays the conditional independence $X \perp T \mid\mid A$, then the composite $sp: A \to T$ is deterministic.
\end{lemma}
This result can be thought of as a partial converse to the condition which characterizes positivity of a Markov category~\cite[Definition~11.22]{markov_cats}. Here and in the following, our notation ``$s$'' indicates that we think of this morphism as a statistic~\cite[Definition~14.2]{markov_cats}.
\begin{proof}
	Since the marginals of \Cref{determinismlemma_joint} are exactly $p$ and $sp$, the conditional independence assumption is
	\[
		\tikzfig{determinismlemma1}
	\]
	Using this equation together with the assumption that $s$ is deterministic, we then compute
	\[
		\tikzfig{determinismlemma2}
	\]
	which is what was to be shown.
\end{proof}

Here is our abstract version of Kolmogorov's zero--one law.

\begin{theorem}[Abstract Kolmogorov zero--one law]
    \label{thm:kolmog}
    Suppose that $\cC$ is a Markov category, and that $(X_i)_{i \in J}$ is a family of objects with Kolmogorov product $X_J$ and finite marginalizations $\pi_F : X_J \to X_F$. Suppose that morphisms $p: A \to X_J$ and deterministic $s : X_J \to T$ satisfy the following:
    \begin{enumerate}
	    \item $p$ displays the conditional independence $\perp_i X_i \mid\mid A$.
	    \item For every finite $F \subseteq J$, the joint
    		\[
	    		\tikzfig{kolmog_joint}
    		\]
    		displays the conditional independence $X_F \perp T \mid\mid A$.
    \end{enumerate}
Then the composite $sp : A \to T$ is deterministic as well.
\end{theorem}
Note that this result applies even in the case where $J$ is finite, in which case it amounts to \Cref{determinismlemma}.
\begin{proof}
	Assuming $\ast \not \in J$, let us write $X_\ast := T$, so that $X_J \otimes X_\ast$ is the Kolmogorov product of the family $(X_i)_{i \in J \,\sqcup\,\{\ast\}}$. It is clear from the definitions and the assumption that the morphism
    \[
	\tikzfig{kolmog_joint2}	    
    \]
    displays the conditional independence $\perp_{i \in J\,\sqcup\,\{\ast\}} X_i \mid\mid A$.
    By the infinite independence lemma, this means that it also displays the conditional independence $X_\ast \perp X_J \mid\mid A$.
    Now the determinism lemma implies exactly what we want, namely that the composite $sp : A \to T$ is deterministic.
\end{proof}

We now move on to our treatment of the Hewitt--Savage zero--one law. It applies to Kolmogorov products where all factors are copies of the same object. So for an object $X$ and the constant family $(X)_{i \in J}$, let us say that the corresponding Kolmogorov product $X_J$ is the \emph{Kolmogorov power} of $X$ by $J$, whenever it exists.

A \emph{finite permutation} of the set $J$ is a bijection $\sigma : J \to J$ which fixes all but finitely many elements. Suppose that $\sigma : J \to J$ is a finite permutation or more generally any injection. Then an application of the universal property of the Kolmogorov power shows that $\sigma$ induces a morphism $\hat{\sigma} : X_J \to X_J$ by applying the universal property of $X_J$ to the compatible family of composite morphisms
\[
	\begin{tikzcd}
		X_J \ar{r}{\pi_{\sigma(F)}} & X_{\sigma(F)} \ar{r}{\cong} & X_{F},
	\end{tikzcd}
\]
where the second morphism matches up the factors of the two finite products involved as prescribed by the bijection $\sigma|_F : F \stackrel{\cong}{\longrightarrow} \sigma(F)$. The relevant compatibility condition is straightforward to check. Moreover, $\hat{\sigma}$ is deterministic by \Cref{kolmprod_catdet}.


\begin{theorem}[Abstract Hewitt--Savage zero--one law]
    	\label{thm:hewsav}
	Suppose that $\cC$ is a causal Markov category (\Cref{causal_defn}). Let $X_J$ be a Kolmogorov power of an object $X \in \cC$ with respect to an infinite set $J$.
    	Suppose that morphisms $p: A \to X_J$ and deterministic $s : X_J \to T$ satisfy the following:
    	\begin{enumerate}
		\item $p$ displays the conditional independence $\perp_{i \in J} X_i \mid\mid A$.
		\item For every finite permutation $\sigma : J \to J$, we have $\hat{\sigma} p = p$ and $s \hat{\sigma} = s$. 
    	\end{enumerate}
	Then the composite $sp : A \to T$ is deterministic.
\end{theorem}

In contrast to \Cref{thm:kolmog}, we now have two relevant assumptions in addition to those on $p$ and $s$, namely that $\cC$ is causal and $J$ is infinite. Before getting to the proof, we first make a useful auxiliary observation.

\begin{lemma}
	\label{aseqlemma}
	Let $\cC$ be a causal Markov category. Let $p : A \to X$ and $f,g: X \to Y$ be morphisms in $\cC$ with $f$ deterministic and such that
	\[
		\tikzfig{aseqlemma}
	\]
	Then $f =_{p\as} g$ (\Cref{defnasequal}).
\end{lemma}
\begin{proof}
    Consider the morphism
    \[
	    \tikzfig{aseqlemma1}
    \]
    Applying the assumed equation together with determinism of $f$ shows that marginalizing over the first output gives the same morphism $A \to Y \otimes Y \otimes Y$ as marginalizing over the second output. Therefore, applying the causality property of \Cref{causal_defn} with $h_1$ and $h_2$ the two marginalizations, we can conclude the equality
    \[
	\tikzfig{aseqlemma2}
    \]
    Marginalizing this further over the second and third outputs and truncating the redundant pieces proves the desired equation.
\end{proof}



\begin{proof}[Proof of \Cref{thm:hewsav}]
	Letting a finite permutation $\sigma : J \to J$ act on the $X_J$ part of the joint of $X_J$ and $T$ gives
	\begin{equation}
		\label{strong_invariance}
		\tikzfig{hewsav1}
	\end{equation}
	so that the joint given by the right-hand side is invariant. Here, the first and last equation hold by the invariance assumption, and the second because $\hat{\sigma}$ is deterministic.

	We next argue that this equation still holds if $\sigma$ is merely an injection. By the universal property of $X_J \otimes T$ as the infinite tensor product of the family $(X_i)_{i \in J}$ together with $T$, it is enough to prove \Cref{strong_invariance} upon marginalization by $\pi_F \otimes \id$ for all finite $F \subseteq J$. Since we can find a finite permutation $\sigma' : J \to J$ such that $\sigma'|_F = \sigma|_F$ for any given $F$, the claim follows from the finite permutation case.
    
	Consider the morphism given by composing \eqref{strong_invariance} with $s$ on the first output. Since these are the same for all injections $\sigma$, \Cref{aseqlemma} tells us that the morphisms $s \hat{\sigma}$ are all $p$-a.s.~equal to $s$, for every injection $\sigma : J \to J$.

	Now let $J = J_1 \,\sqcup\, J_2$ be a decomposition of $J$ into two disjoint subsets having the same cardinality as $J$; this is the step which relies on $J$ being infinite. Let $\tau_1, \tau_2: J \to J$ be injections with images $J_1$ and $J_2$, respectively. Then we claim that
	\[
		\tikzfig{hewsav2}
	\]
	By \Cref{two_infproducts}, it is enough to prove this upon postcomposing with two finite marginalizations $\pi_{F_1}$ and $\pi_{F_2}$. But then using the fact that $\tau_1$ and $\tau_2$ have disjoint image, this follows from the independence assumption, which has
	\[
		\tikzfig{hewsav3}
	\]
	as a special case.
    
	Putting things together, we can now compute
	\[
		\tikzfig{hewsav4}
	\]
	which is what was to be shown.
\end{proof}

\section{Examples}
\label{examples}

We now show how our results specialize to the standard Kolmogorov and Hewitt--Savage zero--one laws in the case of standard Borel spaces. Further down we will give another application to continuous maps between topological spaces.

\begin{corollary}[Kolmogorov zero--one law]
	Suppose $\Omega$ is a standard Borel space with a probability measure $P$ and that $\left(f_i: \Omega \to X_i\right)_{i \in \bN}$ is a sequence of independent random variables taking values in standard Borel spaces $X_i$. Suppose that $T \subseteq \Omega$ is in the coarsest $\sigma$-algebra which makes the $f_i$ measurable, and independent of any finite subset of the $f_i$. Then $P(T) \in \{0,1\}$.
\end{corollary}
\begin{proof}
	We want to apply \Cref{thm:kolmog} with $\cC = \BorelStoch$ and $J = \bN$ and $A = I$, the one-element measurable space. Then $P : I \to \Omega$. We write $f_\bN : \Omega \to X_\bN$ for the induced map to the product measurable space. In $\Omega$, the coarsest $\sigma$-algebra which makes the $f_i$ measurable coincides with the $\sigma$-algebra consisting of the sets of the form $f_\bN^{-1}(S)$ for measurable $S \subseteq X_J$. Hence the assumption implies that there is measurable $S \subseteq X_J$ such that $T = f_\bN^{-1}(S)$. Then we apply \Cref{thm:kolmog} with $s : X_J \to \{0,1\}$ the indicator function of $S$, which is a measurable map and therefore can also be regarded as a morphism in $\BorelStoch$, and with $p = f_\bN P$. We therefore obtain that $sp : I \to \{0,1\}$ is deterministic. But since $sp$ corresponds to the probability measure on $\{0,1\}$ with weight $P(f_\bN^{-1}(S)) = P(T)$ on $\{1\}$ and the complementary weight $1 - P(T)$ on $0$, we conclude that indeed $P(T) \in \{0,1\}$.
\end{proof}

\begin{problem}
	Is there a Markov category $\cC$ with countable Kolmogorov products such that \Cref{thm:kolmog} specializes to the standard Kolmogorov zero--one law in its general form applicable to all measurable spaces?
\end{problem}

\begin{corollary}[Hewitt-savage zero--one law]
    Suppose $\Omega$ is a standard Borel space with probability measure $P$, and let $\left(f_i: \Omega \to X\right)_{i\in \bN}$ be a sequence of independent, identically distributed random variables taking values in a standard Borel space $X$.
    Suppose $S \subseteq \prod_{i \in \bN} X = X_\bN$ is measurable in the product $\sigma$-algebra, and suppose moreover that, for each finite permutation $\sigma: \bN \to \bN$, we have $\hat{\sigma}(S) = S$ (in other words, $S$ is invariant under finite permutations of the variables).
    Then $P(f_\bN\inv(S)) \in \{0,1\}$, where $f_\bN$ again denotes the induced map $\Omega \to X_\bN$.
\end{corollary}
\begin{proof}
    The proof is similar to the previous proof. This time we want to apply \Cref{thm:hewsav} with $\cC = \BorelStoch$, $J = \bN$, $A = I$.
    Again, we have $P: I \to \Omega$.
    As before, we let $s: X_\bN \to \{0,1\}$ be the indicator function of $S$, and we let $p = f_\bN P$.
    The i.i.d.~assumption on the $f_j$ implies that $\hat{\sigma}p = p$, and the assumption on $S$ implies $s\hat{\sigma} = s$ for finite permutations $\sigma$.
    Hence we can apply \Cref{thm:hewsav}. This again shows that the map $sp: I \to \{0,1\}$ is deterministic, which, just as before, means $P(f_\bN\inv(S)) \in \{0,1\}$.
\end{proof} 

\todo[inline]{E: Not sure these examples (about top. spaces) are that great.. it seems like we do an inordinate amount of work to get the infinite tensor products, compared to the results. What do you think?}

By interpreting these results in different Markov categories, we can obtain other results.
In particular, the following example is of a similar flavour as $\SetMulti$, but improves on its lack of infinite tensor products (\Cref{setmulti}).

With $\Top$ the category of topological spaces and continuous maps, we consider the \emph{lower Vietoris monad} or \emph{hyperspace monad} $H$ on $\Top$, introduced by Schalk for $T_0$ spaces~\cite{schalk} and investigated generally in~\cite[Section~2]{hyperspace}. Let $\Kl(H)$ be its Kleisli category. Using the symmetric monoidal structure of $H$ guaranteed by~\cite[Corollary~2.53]{hyperspace}, the general construction of Markov categories from symmetric monoidal monads of \cite[Proposition~3.1]{markov_cats} turns $\Kl(H)$ into a Markov category. Concretely, this category has the following structure:
    \begin{enumerate}
        \item The objects are topological spaces.
	\item A morphism $f: X \to Y$ is a continuous function $X \to HY$, where $HY$ denotes the set of closed subsets, equipped with the topology generated by subbasic opens of the form $\{V \subseteq Y \text{ closed} \mid V \cap U \neq \emptyset\}$, where $U \subseteq Y$ ranges over all opens.
	\item Composition is defined as in $\SetMulti$ via~\eqref{relational_composition}, but taking the closure of the union in addition.
        \item The monoidal product is the Cartesian product of topological spaces, and on morphisms
		\[
			(f \tensor g)(x_1,x_2) := f(x_1) \times g(x_2),
		\]
		exactly as in $\SetMulti$.
        \item The comultiplication is defined by $\cop{X}(x) = \cl(\{(x,x)\})$
    \end{enumerate}
\begin{proposition}
    $\Kl(H)$ has Kolmogorov products of any cardinality, given by the usual infinite product of topological spaces with the product topology.
\end{proposition}
\begin{proof}
    First we observe that $H(\prod_{j\in J} X_j)$ is the cofiltered limit of the spaces
    $H(\prod_{j\in F} X_j)$ for $F \subseteq J$ finite.
    To see this, note that the marginalizations induce a continuous map
    	\[
		\alpha \: : \: H\!\left(\prod_{i\in J} X_i\right) \longrightarrow \lim_{F \subseteq J} \, H\!\left(\prod_{i \in J} X_i\right)
	\]
	We show that this is an injection. Thus we start with distinct closed subsets $C, D \subseteq \prod X_i$. We assume without loss of generality that $C \not\subseteq D$, and choose $x \in C \setminus D$.
    Then let $U \ni x$ be an open neighborhood of $x$ not intersecting $D$.
    Since $U$ is open in the product topology, we can assume that there is some finite subset $F \subset J$ so that 
    	\[
		y = (y_i) \in U \quad\Longleftrightarrow\quad y_i \in \pi_i(U) \:\;\forall i\in F.
	\]
    Then $\pi_F(x) \in \pi_F(U)$, which is disjoint from $\pi_F(D)$. Hence $\alpha(C) \neq \alpha(D)$.

    We show that $\alpha$ is also surjective. Given a family $(C_F) \in \lim_F H\!\left(\prod_{i \in F} X_i\right)$, simply set
	\[
		C = \left\{x \in \prod_{j\in J} X_j \:\Bigg|\: \pi_F(x) \in C_F \:\: \forall F\right\}
	\]
	This is an intersection of closed subsets, hence closed, and the finite marginalizations clearly send it to the given family $(C_F)$.

	Finally, we must verify that $\alpha$ is an open map.
	It suffices to show that it carries a subbasic open set $\mathrm{Hit}(U) = \{C \subseteq \prod X_i \text{ closed} \mid C \cap U \neq \emptyset\}$ to an open subset of the limit. For a given point $C \in \mathrm{Hit}(U)$, it is enough to find an open neighborhood contained in $\mathrm{Hit}(U)$. But then by making $U$ smaller if necessary, we can assume without loss of generality that $U$ is a basic open in the product topology, meaning that there is a finite $F$ so that
	\[
		y = (y_i) \in U \quad\Longleftrightarrow\quad y_i \in \pi_i(U) \:\; \forall i \in F.
	\]
    Then
	\[
		\alpha(A_U) = \pi_F\inv\left(\left\{V \subseteq \prod_{j \in F} X_F \text{ closed} \:\Bigg|\: V \cap \pi_F(U) \neq \emptyset\right\}\right),
	\]
    which is indeed open in the limit.

    It follows that $\prod_i X_i$ is an infinite tensor product in $\Kl(H)$; the preservation condition is easily verified since adding another factor to this product again gives the infinite product. The Kolmogorov product condition is similarly immediate to verify.
\end{proof}
\begin{proposition}\label{prop:klh-causal}
    $\Kl(H)$ is causal.
\end{proposition}
The proof of this proposition is fairly technical and not very illuminating. We recommend skipping to \Cref{vietoris_kolmogorov} below on a first reading.
We will use the notation of \cite{hyperspace} through the proof.

First, we will need a quick lemma.
\begin{lemma}\label{lem:extraclosure}
    Let $f: X \to HY$ and $g: Y \to HZ$ be continuous functions
    Consider the map $HX \to HZ$ given by composing $f$ and $g$ in $\Kl(H)$, yielding a map $X \to HZ$, then lifting this using the monad structure.
    By definition, this map sends a closed $A \subset X$ to
    \[\cl \left(\bigcup_{a \in A} \cl\left(\bigcup_{b \in f(a)} g(b)\right)\right)\] 
    
    In fact, this equals \[\cl\left(\bigcup_{a \in A}\bigcup_{b \in f(a)} g(b)\right)\]
\end{lemma}
The point of this lemma is that the iterated closures that arise when composing maps in $\Kl(H)$ can be mostly ignored, although we do have to take a closure at the end.
\begin{proof}
    Let $\hat{f},\hat{g}$ denote the induced maps $HX \to HY, HY \to HZ$.
    Since both of the sets we are comparing are closed, it suffices to show that they intersect the same collection of open sets.
    We use the notation $\braket{U,V}$ from \cite{hyperspace}, which is defined for two subsets of the same space to be $1$ if they intersect and $0$ otherwise.\footnote{we generalize slightly and use this notation even when $V$ is not closed, although $U$ is still always open.}

    Now we calculate, for a given open $U \subset Z$
    \[\braket{U , \hat{g}(\hat{f}(A))} = \braket{U , \cl(\cup_{y \in \hat{f}(A)}g(y))} = \braket{ U, \cup_{y \in \hat{f}(A)}g(y)}\]
    Here we first insert the definition of $\hat{g}$, then use the fact that $U$ is open.
    
    Now the statement that this union intersects $U$ means just that at least one of the sets in the union does.
    So we get
    \[=\braket{g\inv(\Hit(U)) , \hat{f}(A)}\]
    Note that $g\inv(\Hit(U))$ is still an open set, by continuity.
    Applying these arguments again, we find
    \[=\braket{f\inv(\Hit(g\inv(\Hit(U)))) , A} = \braket{\Hit(g\inv(\Hit(U))) , f(A)}\]
    where $f(A) \subset HY$ is simply the direct image of $A$.
    The statement that $f(A)$ intersects $\Hit(g\inv(\Hit(U)))$ means that for at least one $a\in A$, $f(a)$ is in $\Hit(g\inv(\Hit(U)))$, i.e it intersects $g\inv(\Hit(U))$.
    So we can pass to
    \[= \braket{g\inv(\Hit(U)) , \cup_{x \in A} f(x)}\]
    And by the same argument, to
    \[= \braket{U , \cup_{x \in A}\cup_{y\in f(x)}g(x)} = \braket{U , \cl \cup_{x \in A}\cup_{y\in f(x)}g(x)}\]
    which is exactly what we wanted.
\end{proof}

\begin{proof}[Proof of \Cref{prop:klh-causal}]
    We are given spaces $A, X, Y, Z$, and continuous maps $f:A \to HX, g: X \to HY, h_1,h_2: Y \to HZ$.
    We assume that two maps $X \to H(W \times Z)$ are equal.
    They are given by
    \[a \mapsto \cl\left(\bigcup_{x \in f(a), y \in g(x)} h_1(y) \times \{y\}\right),\ x \mapsto \cl\left(\bigcup_{x \in f(a), y \in g(x)} h_2(y) \times \{y\}\right)\]
    Of course, equality of these maps simply means that the right-hand sides agree for each $x$.
    Here we have implictly used \Cref{lem:extraclosure} to get rid of extra closures.

    Let us rewrite and name this set as
    \[S := \cl\left(\{(z,y) \mid z \in h_1(y), y \in \cup_{x \in f(a)} g(x)\}  \right) = \cl\left(\{(z,y) \mid z \in h_2(y), y \in \cup_{x \in f(a)} g(x)\}  \right) \]

    The desired conclusion is that the sets
    \[\cl\left(\bigcup_{x \in f(a), y \in g(x)} h_1(y) \times \{y\} \times \{x\}\right),\ \cl\left(\bigcup_{x \in f(a), y \in g(x)} h_2(y) \times \{y\} \times \{x\}\right)\]
    agree. Let us rewrite them as
    \[\cl\left(\{(z,y,x) \mid z \in h_1(y), y\in g(x), x\in f(a)\}\right),\ \cl\left(\{(z,y,x) \mid z \in h_2(y), y\in g(x), x\in f(a)\}\right)\]
    (Where we have again used \Cref{lem:extraclosure}).

    To show this identity, it suffices to show that 
    \[\{(z,y,x) \mid z \in h_1(y), y\in g(x), x\in f(a)\} \subseteq \cl\left(\{(z,y,x) \mid z \in h_2(y), y\in g(x), x\in f(a)\}\right)\]
    (and the converse inclusion).

    Let us take a point $(z_0,y_0,x_0)$ in the left-hand set, and consider an open neighborhood $U_1 \times U_2 \times U_3$, for open subsets of $Z,Y,X$ respectively.
    Our goal is to construct $(z,y,x) \in U_1\times U_2 \times U_3$ so that $x \in f(a), y \in g(x), z \in h_2(y)$.

    The assumptions on $(z_0,y_0,x_0)$ implies that the point $(z_0,y_0)$ is in $S$.
    Hence by the other expression of $S$, we can find points $x_1,y_1,z_1$ so that $x_1 \in f(a), y_1 \in g(x) \cap U_2, z_1 \in h_2(y_1) \cap U_1$.
    The issue is now to fix this so that $x \in f(a) \cap U_3$.

    Consider the set $\{y \mid h_2(y) \cap U_1 \neq \emptyset\}$.
    This is an open set which contains our $y_1$ above. Let $U_2'$ be the (nonempty!) intesection of this set with $U_2$.
    Now consider $\{x \mid g(x) \cap U_2' \neq \emptyset\}$. This is again an open set which contains $x_1$. Let $U_3'$ be the intersection of this with $U_3$.
    Now since $x_1 \in f(a)$, any open neighborhood of $x_1$ intersects $f(a)$ (since it's closed).
    So choose $x_2 \in f(a) \cap U_3', y_2 \in U_2' \cap g(x_2) \cap U_2',$ and finally $z_2 \in h_2(y_2) \cap U_1$.
    (Each possible by the construction of the previous element). By construction we have $(z_2,y_2,x_2) \in U_1 \times U_2 \times U_3$, exactly as desired.
    The other inclusion follows by a symmetric argument.
\end{proof}


We can therefore instantiate our \Cref{thm:kolmog,thm:hewsav} in $\Kl(H)$, which gives the following results as special cases.

\begin{corollary}
    Let $(X_i)_{i \in J}$ be a family of topological spaces, $Y$ a Hausdorff space, and let $f: \prod_i X_i \to Y$ be a continuous function
    which is independent of any finite subset of the input.
    Then $f$ is constant.
    \label{vietoris_kolmogorov}
\end{corollary}
\begin{corollary}
	Let $X$ be a topological space, $Y$ a Hausdorff space, $J$ an infinite set, and let $f: \prod_{i\in J} X \to Y$ be a continuous function which is invariant under any finite permutation of the inputs.
    Then $f$ is constant.
    \label{vietoris_hewitt_savage}
\end{corollary}
\begin{proof}[Proof of both]
	These results follow from \Cref{thm:kolmog,thm:hewsav} applied to $\Kl(H)$,
    using the morphism $p : I \to X_J$ corresponding to the trivial closed subset $X_J \subseteq X_J$.
	The conclusion is that the closure of its image, call it $A$, satisfies
	\[
		\cl(\{(a,a) \mid a \in A\}) = A \times A
	\]
	as subsets of $Y \times Y$.
    But since the diagonal is closed in $Y$, this clearly implies that $A$ must be a singleton.
\end{proof}


\bibliographystyle{plain}
\bibliography{categorical-zero-one}

\end{document}





\section{Speculation}
\todo[inline]{not sure if this section is any good}
It would good to have a way of using this theorem without assuming that the category in question has these infinite tensor products.
We can always make sense of the notion of an infinite independent collection of random variables (just a collection of maps $I \to X_i$).
Of course to talk about an outcome or a function which depends on the outcome of all the $X_i$, we need a map $\prod_i X_i \to T$ of some type.
But since this map is deterministic, we may want to talk about it without admitting it to our category of Markov kernels.

As an example, the probability theory of finite or countable sets is much simpler than the probability theory of infinite sets, since the whole edifice of $\sigma$-algebras can be done away with.
This is a reason to prefer $\sf{FinStoch}$ over the full $\sf{Stoch}$.
In this case, it would be desirable to be able to apply this theorem, given a collection of finite variables $I \to X_i$ and a function $\prod_i X_i \to Y$
(which may be required to satisfy some condition like continuity in the product topology), without begin required to invent the larger category $\sf{Stoch}$.

For instance, maybe there is a Markov category with objects the profinite sets, which can be obtained from $\sf{FinStoch}$ by some formal construction (maybe even simply as the pro-category), which admits infinite tensor products, and where one can profitably interpret this theorem.
